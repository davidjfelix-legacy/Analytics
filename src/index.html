<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Analytics -- alpha</title>
    <style type="text/css">
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script type="text/javascript">
    // Any data that we expect to come from a server goes here

var coords = [
  [39.110912, -84.515619],  // the brandery
  [39.110431, -84.517092],  // the anchor otr
  [39.110431, -84.517092],  // the anchor otr
  [39.11104, -84.51536],  // kaze
  [39.11104, -84.51536],  // kaze
  [39.11104, -84.51536],  // kaze
  [39.11104, -84.51536],  // kaze
  [39.11104, -84.51536],  // kaze
];
    </script>
    <script type="text/javascript">

var AuMap = function(canvas_id) {
  var mapOptions = {
    zoom: 14,
    center: new google.maps.LatLnd(39.103053, -84.508708),
    mapTypeId: google.maps.MapTypeId.MAP
  };
  this.map = new google.maps.Map(document.getElementById(canvas_id), mapOptions);
}

var AuHeatmap = function(canvas_id) {
  this.auMap = new AuMap(canvas_id);
  this.heatmap = new google.maps.visualization.HeatmapLayer();
  this.heatmap.setMap(this.auMap.map);
}

var heatmap;


function updateHeatMap(coords, map) {
  var latLngs = [];
  for (idx in coords) {
    var latLng = new google.maps.LatLng(coords[idx][0], coords[idx][1]);
    latLngs.push(latLng);
  }
  var pointArray = new google.maps.MVCArray(latLngs);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray
  });
  
  heatmap.setMap(map);
}

function initialize() {
  var mapOptions = {
    zoom: 14,
    center: new google.maps.LatLng(39.103053, -84.508708),
    mapTypeId: google.maps.MapTypeId.MAP
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  updateHeatMap(coords, map);
}


function asyncLoadGoogleMaps() {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src = 'https://maps.googleapis.com/maps/api/js?' +
    'key=AIzaSyCcRYxLFqKNT__Vc2Ou6eJYTchP86NZmks&' +
    'libraries=visualization&' +
    'callback=initialize';
  document.body.appendChild(script);
}

window.onload = asyncLoadGoogleMaps;

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
  </body>
</html>
